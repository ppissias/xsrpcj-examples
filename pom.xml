<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<groupId>org.xsrpcj.example</groupId>
	<artifactId>examples</artifactId>

	<version>1.0.0-SNAPSHOT</version>

	<packaging>pom</packaging>

	<properties>
	<!-- 
		<protoc.compiler.path>C:\dev\javalibs\protoc-3.5.1-win32\bin\protoc.exe</protoc.compiler.path>
		<protoc.grpc.path>C:\dev\javalibs\protoc-3.5.1-win32\bin\protoc-gen-grpc-java-1.13.1-windows-x86_64.exe</protoc.grpc.path>
	-->
		<protoc.compiler.path>${env.PROTOC_PATH}</protoc.compiler.path>
		<protoc.grpc.path>${env.PROTOC_GRPC_PATH}</protoc.grpc.path>			
		<project.build.sourceProtoDirectory>${project.basedir}/src/main/proto</project.build.sourceProtoDirectory>	
	</properties>

	<build>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-enforcer-plugin</artifactId>
				<version>3.0.0-M2</version>
				<executions>
					<execution>
						<id>enforce-property</id>
						<goals>
							<goal>enforce</goal>
						</goals>
						<configuration>
							<rules>
								<requireProperty>
									<property>protoc.compiler.path</property>
									<message>You must specify the full path to the proto compiler executable in the PROTOC_PATH environment variable</message>
									<regex>.{1,}$</regex>
									<regexMessage>The environment variable PROTOC_PATH is not set</regexMessage>
								</requireProperty>
								<requireProperty>
									<property>protoc.grpc.path</property>
									<message>You must specify the full path to the java grpc proto compiler executable in the PROTOC_GRPC_PATH environment variable</message>
									<regex>.{1,}$</regex>
									<regexMessage>The environment variable PROTOC_GRPC_PATH is not set</regexMessage>
								</requireProperty>
							</rules>
							<fail>true</fail>
						</configuration>
					</execution>
				</executions>
			</plugin>
		</plugins>
	</build>

	<modules>
		<module>xsrpcj-performance</module>
		<module>xsrpcj-simple</module>
		<module>Grpc-performance</module>
	</modules>

</project>